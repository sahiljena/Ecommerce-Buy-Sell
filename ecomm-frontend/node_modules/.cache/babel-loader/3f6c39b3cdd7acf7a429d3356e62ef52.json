{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\ASUS\\\\OneDrive\\\\Desktop\\\\olx-clone\\\\ecomm-frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useState,useEffect}from'react';import{useNavigate}from\"react-router-dom\";import Navbar from\"../components/Navbar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Register=function Register(_ref){var token=_ref.token,setToken=_ref.setToken;//console.log(token);\nvar _useState=useState(0),_useState2=_slicedToArray(_useState,2),status=_useState2[0],setStatus=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),email=_useState6[0],setEmail=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var navigate=useNavigate();var RegisterStatusMessage=function RegisterStatusMessage(props){if(props.status===201){return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-300 text-xs rounded px-1 py-1\",children:[\"Successfully Registered! , you can \",/*#__PURE__*/_jsx(\"a\",{className:\"text-blue-600\",href:\"/login\",children:\"login here\"})]});}if(props.status===500){return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-300 text-xs rounded px-1 py-1\",children:[\"Your account already exsists, you can \",/*#__PURE__*/_jsx(\"a\",{className:\"text-blue-600\",href:\"/login\",children:\"login here\"})]});}else{return/*#__PURE__*/_jsx(_Fragment,{});}};var handleRegister=function handleRegister(event){event.preventDefault();if(name&&email&&password){//console.log(name,password,email);\nfetch('https://ecomm-backend-xcv34.herokuapp.com/api/user/new',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({name:name,email:email,password:password})}).then(function(response){setStatus(response.status);return response.json();})//Then with the data from the response in JSON...\n.then(function(data){console.log('Success:',data);})//Then with the error genereted...\n.catch(function(error){console.error('Error:',error);});}else{console.log(\"Something wrong !!\");}};//console.log(token);\nuseEffect(function(){if(token){return navigate('/');}},[token]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{token:token,setToken:setToken}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center mt-10\",children:/*#__PURE__*/_jsx(\"div\",{class:\"w-full max-w-xs\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleRegister,className:\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 text-center text-lg font-bold text-gray-600\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Register\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(RegisterStatusMessage,{status:status})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-bold tracking-tight text-gray-500 mb-2\",for:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",id:\"email\",type:\"email\",placeholder:\"name@example.com\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-xs italic\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-bold tracking-tight text-gray-500 mb-2\",for:\"name\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",id:\"name\",type:\"text\",placeholder:\"Full Name\",value:name,onChange:function onChange(e){setName(e.target.value);}}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-xs italic\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-bold tracking-tight text-gray-500 mb-2\",for:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline\",id:\"password\",type:\"password\",placeholder:\"******************\",value:password,onChange:function onChange(e){setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-xs italic\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"button\",{className:\" w-full bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\",type:\"submit\",children:\"Register\"})})]})})})]});};export default Register;","map":{"version":3,"sources":["C:/Users/ASUS/OneDrive/Desktop/olx-clone/ecomm-frontend/src/pages/Register.js"],"names":["React","useState","useEffect","useNavigate","Navbar","Register","token","setToken","status","setStatus","name","setName","email","setEmail","password","setPassword","navigate","RegisterStatusMessage","props","handleRegister","event","preventDefault","fetch","method","headers","body","JSON","stringify","then","response","json","data","console","log","catch","error","e","target","value"],"mappings":"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","sourcesContent":["import React,{useState, useEffect} from 'react';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Navbar from \"../components/Navbar\"\r\nconst Register = ({token, setToken}) => {\r\n    //console.log(token);\r\n    const [status, setStatus] = useState(0);\r\n\r\n    const [name, setName] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const RegisterStatusMessage = (props) =>{\r\n        if(props.status===201){\r\n            return <div className='bg-green-300 text-xs rounded px-1 py-1'>\r\n                Successfully Registered! , you can <a className='text-blue-600' href=\"/login\">login here</a>\r\n            </div>\r\n        }\r\n        if(props.status===500){\r\n            return <div className='bg-red-300 text-xs rounded px-1 py-1'>\r\n                Your account already exsists, you can <a className='text-blue-600' href=\"/login\">login here</a>\r\n            </div>\r\n        }\r\n        else{\r\n            return <></>\r\n        }\r\n    }\r\n\r\n    const handleRegister = (event) =>{\r\n        event.preventDefault();\r\n        if(name && email && password){\r\n            //console.log(name,password,email);\r\n            fetch('https://ecomm-backend-xcv34.herokuapp.com/api/user/new',{\r\n                method: 'POST',\r\n                headers: {\r\n                'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({\r\n                    name:name,\r\n                    email:email,\r\n                    password:password,\r\n                })\r\n            })\r\n            .then(function (response) {\r\n                setStatus(response.status)\r\n                return response.json();\r\n            })\r\n            //Then with the data from the response in JSON...\r\n            .then((data) => {\r\n            console.log('Success:', data);\r\n            })\r\n            //Then with the error genereted...\r\n            .catch((error) => {\r\n            console.error('Error:', error);\r\n            });\r\n\r\n        }else{\r\n            console.log(\"Something wrong !!\")\r\n        }\r\n    }\r\n\r\n    //console.log(token);\r\n\r\n    useEffect(() => {\r\n        if(token){\r\n            return(navigate('/'));\r\n        }\r\n    }, [token]);\r\n    \r\n\r\n    return(\r\n        <>\r\n        <Navbar token={token} setToken={setToken} />\r\n            <div className='flex justify-center mt-10'>\r\n                <div class=\"w-full max-w-xs\">\r\n                    <form onSubmit={handleRegister} className=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\">\r\n                        <div className='mb-4 text-center text-lg font-bold text-gray-600'>\r\n                            <h2>Register</h2>\r\n                        </div>\r\n                        <div className='mb-4'>\r\n                            <RegisterStatusMessage status={status} />\r\n                        </div>\r\n                        <div className=\"mb-4\">\r\n                            <label className=\"block text-sm font-bold tracking-tight text-gray-500 mb-2\" for=\"email\">\r\n                                Email\r\n                            </label>\r\n                            <input \r\n                                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" \r\n                                id=\"email\" \r\n                                type=\"email\" \r\n                                placeholder=\"name@example.com\"\r\n                                value = {email}\r\n                                onChange={(e)=>setEmail(e.target.value)}\r\n                            />\r\n                            <p className=\"text-red-500 text-xs italic\"></p>\r\n                        </div>\r\n                        <div className=\"mb-4\">\r\n                            <label className=\"block text-sm font-bold tracking-tight text-gray-500 mb-2\" for=\"name\">\r\n                                Full Name\r\n                            </label>\r\n                            <input \r\n                                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" \r\n                                id=\"name\" \r\n                                type=\"text\" \r\n                                placeholder=\"Full Name\"\r\n                                value = {name}\r\n                                onChange={(e)=>{setName(e.target.value)}}\r\n                            />\r\n                            <p className=\"text-red-500 text-xs italic\"></p>\r\n                        </div>\r\n                        <div className=\"mb-6\">\r\n                            <label className=\"block text-sm font-bold tracking-tight text-gray-500 mb-2\" for=\"password\">\r\n                                Password\r\n                            </label>\r\n                            <input \r\n                                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline\" \r\n                                id=\"password\" \r\n                                type=\"password\" \r\n                                placeholder=\"******************\"\r\n                                value={password}\r\n                                onChange={(e)=>{setPassword(e.target.value)}}\r\n                            />\r\n                            <p className=\"text-red-500 text-xs italic\"></p>\r\n                        </div>\r\n                        <div className=\"flex items-center justify-center\">\r\n                            <button \r\n                                className=\" w-full bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\" \r\n                                type=\"submit\"\r\n\r\n                            >\r\n                                Register\r\n                            </button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Register;"]},"metadata":{},"sourceType":"module"}